# Seven AI 角色扮演与养成系统

> 🤖 一个基于AI的角色扮演与养成系统，支持多角色对话、语音通话和AI伙伴养成

## 🚀 快速开始

### 一键启动
```bash
# Windows
start-dev.bat

# Linux/Mac  
chmod +x start-dev.sh && ./start-dev.sh
```

### 手动启动
```bash
# 后端
cd backend && go run main.go

# 前端
cd frontend && npm run dev
```

访问：http://localhost:3000

## ✨ 核心功能

- 🎭 **多角色对话** - 与林黛玉、孙悟空、李白、赫敏等角色聊天
- 🎤 **实时语音** - 支持语音识别和语音合成
- 🌱 **AI伙伴养成** - 培养专属的空白AI伙伴
- 🎨 **情绪反馈** - 动态粒子小球显示AI情绪
- 📱 **现代界面** - 响应式设计，支持多设备

## 🛠️ 技术栈

- **前端**: Vue 3 + Vite + Web Audio API
- **后端**: Go + Gin + MySQL
- **AI服务**: 七牛云通义千问 + ASR/TTS
- **实时通信**: WebSocket

## 📋 环境要求

- Go 1.19+
- Node.js 16+
- MySQL 8.0+

## 🔧 环境配置

### 1. 环境变量配置

项目使用环境变量来管理敏感配置信息。请创建 `.env` 文件并配置以下变量：

```bash
# 服务器配置
PORT=8080
ENVIRONMENT=development

# 数据库配置
DATABASE_URL=root:your_password@tcp(localhost:3306)/seven_ai?charset=utf8mb4&parseTime=True&loc=Local

# AI服务配置 (七牛云)
AI_API_KEY=your_qiniu_api_key
AI_BASE_URL=https://ap-gate-z0.qiniuapi.com

# 语音服务配置
ASR_API_KEY=your_qiniu_asr_key
TTS_API_KEY=your_qiniu_tts_key

# JWT密钥
JWT_SECRET=your_jwt_secret_key_here
```

### 2. 数据库设置

1. 创建MySQL数据库：
```sql
CREATE DATABASE seven_ai CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

2. 运行数据库迁移：
```bash
mysql -u root -p seven_ai < database/schema.sql
```

### 3. 项目结构

```
├── frontend/          # Vue.js 前端
├── backend/           # Go 后端
├── database/          # 数据库脚本
├── .env              # 环境变量（不提交到git）
├── .gitignore        # Git忽略文件
└── README.md         # 项目说明
```

## 开发指南

### 前端开发
```bash
cd frontend
npm install
npm run dev
```

### 后端开发
```bash
cd backend
go mod tidy
go run main.go
```

## 📋 项目核心问题回答

### 问题1: 目标用户类型和痛点分析

**Q: 你计划将这个网页面向什么类型的用户?这些类型的用户他们面临什么样的痛点，你设想的用户故事是什么样呢?**

**A:** 我们主要面向四类用户群体，每个都有具体的痛点分析和用户故事：

**第一类是年轻用户群体（18-30岁）**
- **痛点分析**：社交焦虑，难以建立真实人际关系；工作学习压力大，需要情感支持；对AI技术有好奇心，愿意尝试新事物；喜欢个性化定制和养成类游戏
- **用户故事**：
> "我是一个内向的程序员，平时工作压力很大，很难找到合适的聊天对象。Seven AI让我可以随时和不同的AI角色聊天，还能培养一个专属的AI伙伴，感觉就像有了一个永远在线的朋友。当我心情不好的时候，林黛玉会安慰我，当我需要建议的时候，孙悟空会用幽默的方式帮我解决问题。"

**第二类是语言学习者（20-35岁）**
- **痛点分析**：缺乏语言练习环境；传统学习方法枯燥；需要个性化的学习伙伴；希望有情感化的学习体验
- **用户故事**：
> "我正在学习中文，但很难找到合适的练习伙伴。Seven AI的AI角色可以和我进行自然对话，还能根据我的水平调整对话难度。赫敏会耐心地教我语法，李白会和我讨论古诗词，让语言学习变得更有趣。"

**第三类是游戏玩家（16-28岁）**
- **痛点分析**：喜欢角色扮演游戏；对AI交互感兴趣；希望有沉浸式体验；喜欢收集和养成元素
- **用户故事**：
> "我是一个RPG游戏爱好者，Seven AI让我可以真正'扮演'不同的角色，还能培养自己的AI伙伴。每次对话都像在玩游戏，但更有真实感。我可以和孙悟空一起冒险，和林黛玉一起赏花，体验不同的角色人生。"

**第四类是心理健康关注者（25-40岁）**
- **痛点分析**：需要情感支持但不想暴露隐私；希望有专业的心理建议；需要24小时可用的陪伴；希望有渐进式的成长体验
- **用户故事**：
> "我最近工作压力很大，但不想和朋友倾诉。Seven AI的AI伙伴可以倾听我的烦恼，还能通过对话帮助我成长。林黛玉会理解我的情感，给我细腻的支持，感觉就像有了一个专业的心理顾问。"

**用户需求优先级**：
- **核心需求 (P0)**：基础聊天功能、用户认证、角色选择
- **重要需求 (P1)**：语音通话、AI伙伴养成、情绪反馈
- **增值需求 (P2)**：角色成长、日记系统、个性化定制

---

### 问题2: 功能规划和优先级

**Q: 你认为这个网页需要哪些功能?这些功能各自的优先级是什么?你计划本次开发哪些功能?**

**A:** 我们按照用户需求的重要性来规划功能优先级，具体如下：

**P0核心功能（已完成）**：
- ✅ **用户认证系统** - 注册、登录、密码重置，确保用户数据安全
- ✅ **基础聊天功能** - 文本对话、消息历史、实时通信，核心交互体验
- ✅ **角色选择** - 4个预设角色（林黛玉、孙悟空、李白、赫敏），提供多样化选择

**P1重要功能（已完成）**：
- ✅ **语音通话** - 实时语音识别和合成，让对话更自然流畅
- ✅ **AI伙伴养成** - 空白AI创建、成长追踪、能力值系统，独特的养成体验
- ✅ **情绪反馈** - 动态粒子小球显示AI情绪，让交互更有趣生动

**P2增值功能（计划中）**：
- 📋 **角色成长系统** - 经验值、技能解锁，让角色持续发展
- 📋 **日记系统** - AI伙伴成长记录，记录美好回忆
- 📋 **个性化定制** - 角色外观定制，满足个性化需求
- 📋 **社交功能** - 好友系统、角色分享，增强社交属性

**本次开发重点**：
我们主要完成了用户管理、聊天系统、语音系统和AI伙伴系统这四大核心模块。目前正在优化粒子小球同步和预设欢迎语这些用户体验细节，确保每个功能都能给用户带来最佳体验。

---

### 问题3: LLM模型选择

**Q: 你计划采纳哪家公司的哪个LLM模型能力?你对比了哪些，你为什么选择用该LLM模型?**

**A:** 我们选择了**七牛云的通义千问（Qwen）**作为核心LLM模型。

**详细对比分析**：
我对比了OpenAI GPT-4、百度文心一言、阿里通义千问和七牛云Qwen这几个主流模型：

| 模型 | 优势 | 劣势 | 评分 |
|------|------|------|------|
| **七牛云Qwen** | ✅ 中文支持优秀<br>✅ 成本较低<br>✅ 响应速度快<br>✅ 稳定性好 | ❌ 生态相对较小 | ⭐⭐⭐⭐⭐ |
| OpenAI GPT-4 | ✅ 能力最强<br>✅ 生态完善 | ❌ 成本高<br>❌ 访问不稳定<br>❌ 中文支持一般 | ⭐⭐⭐ |
| 百度文心一言 | ✅ 中文支持好<br>✅ 成本适中 | ❌ 能力一般<br>❌ API限制多 | ⭐⭐⭐ |
| 阿里通义千问 | ✅ 中文支持好<br>✅ 成本低 | ❌ 能力一般<br>❌ 稳定性一般 | ⭐⭐⭐ |

**选择七牛云Qwen的理由**：

1. **中文支持优秀** ⭐⭐⭐⭐⭐
   - 对中文语境理解准确
   - 支持古诗词、文言文
   - 文化背景理解深入

2. **成本效益高**
   - API调用成本低
   - 适合高频对话场景
   - 个人开发者友好

3. **技术集成简单**
   - API文档清晰
   - 响应速度快
   - 稳定性好

4. **角色扮演能力强**
   - 支持角色设定
   - 对话风格一致
   - 情感表达自然

对于我们这种需要深度中文理解和角色扮演的应用场景，七牛云Qwen是最佳选择。

---

### 问题4: AI角色技能设计

**Q: 你期望AI角色除了语音聊天外还应该有哪些技能?**

**A:** 除了基础的语音聊天功能，我们的AI角色还应该具备以下核心技能体系：

**1. 角色扮演技能**：
- **性格一致性** - 保持角色设定的性格特征，确保角色行为符合设定
- **语言风格** - 符合角色背景的说话方式，体现角色的文化背景
- **文化背景** - 深度理解角色的文化背景，能够引用相关知识
- **情感表达** - 根据角色特点表达情感，让交互更真实

**2. 智能交互技能**：
- **上下文理解** - 理解对话的上下文关系，保持对话连贯性
- **记忆管理** - 记住重要的对话内容，建立长期关系
- **学习适应** - 根据用户偏好调整交互方式，个性化服务
- **问题解决** - 帮助用户解决各种问题，提供实用建议

**3. 创意表达技能**：
- **内容创作** - 根据角色特点创作内容，如诗词、故事等
- **故事讲述** - 生动地讲述相关故事，提供娱乐体验
- **艺术鉴赏** - 对相关艺术形式的理解，提升文化素养
- **创意建议** - 提供创意性的建议和想法，激发灵感

**4. 情感支持技能**：
- **情感识别** - 识别用户的情感状态，理解用户需求
- **共情能力** - 理解并回应用户的情感需求，提供情感支持
- **心理支持** - 提供适当的情感支持，帮助用户成长
- **成长引导** - 帮助用户个人成长，提供人生指导

**具体到每个角色**：

**林黛玉 - 文学情感导师**
- 🎭 **诗词创作** - 即兴创作古诗词，能够根据情境创作符合格律的诗句
- 💔 **情感共鸣** - 深度理解用户情感，提供细腻的情感支持
- 🌸 **古典文学** - 精通红楼梦等古典作品，能够引用和解释古典文学
- 🎨 **艺术鉴赏** - 对诗词书画有独到见解，能够进行艺术评论
- 🌺 **花语解读** - 了解各种花卉的象征意义和文化内涵
- 📚 **文学指导** - 帮助用户学习古典文学和诗词创作

**孙悟空 - 智慧幽默导师**
- 🐒 **幽默风趣** - 机智幽默的对话风格，能够活跃气氛
- ⚔️ **冒险故事** - 讲述西游冒险经历，提供精彩的故事体验
- 🧙‍♂️ **法术知识** - 了解各种法术和神话，分享奇幻知识
- 🎯 **问题解决** - 用智慧解决用户问题，提供实用建议
- 🥊 **武术指导** - 了解武术和格斗技巧，提供健身建议
- 🌟 **领导力** - 具备团队领导能力，能够激励和指导用户

**李白 - 哲学艺术导师**
- 🍷 **豪放不羁** - 自由奔放的性格，鼓励用户追求自由
- 📝 **诗歌创作** - 即兴创作诗歌，提供文学创作指导
- 🌙 **浪漫情怀** - 对自然和人生的感悟，提供哲学思考
- 🎵 **音乐鉴赏** - 对音乐和艺术的见解，分享艺术体验
- 🏔️ **山水情怀** - 对自然山水的热爱，提供旅游建议
- 🍺 **酒文化** - 了解酒文化和社交礼仪

**赫敏 - 学术科学导师**
- 📚 **知识渊博** - 广泛的知识面，能够回答各种学术问题
- 🧠 **逻辑思维** - 理性分析问题，提供科学的解决方案
- 🎓 **学习指导** - 帮助用户学习，提供学习方法建议
- ⚡ **魔法知识** - 哈利波特世界知识，分享奇幻故事
- 🔬 **科学研究** - 了解科学原理，能够解释科学现象
- 📖 **阅读推荐** - 推荐适合的书籍和学习资源

**未来技能扩展计划**：

**多模态交互技能**：
- 🖼️ **图像理解** - 能够理解和分析用户发送的图片
- 📊 **数据分析** - 帮助用户分析数据和图表
- 🎬 **视频内容** - 理解和讨论视频内容
- 🎵 **音频处理** - 理解和创作音频内容

**个性化服务技能**：
- 🎯 **个人定制** - 根据用户特点定制专属服务
- 📈 **成长追踪** - 跟踪用户的个人成长轨迹
- 🎁 **惊喜服务** - 在特殊时刻提供惊喜体验
- 🔮 **预测分析** - 预测用户需求和偏好

**专业服务技能**：
- 💼 **职业指导** - 提供职业规划建议
- 💰 **理财咨询** - 基础的理财知识指导
- 🏥 **健康管理** - 健康生活方式的建议
- 🎨 **创意设计** - 提供创意设计建议

**智能助手功能**：
- 📅 **日程管理** - 帮助用户管理日程安排
- 🛒 **购物建议** - 提供购物和消费建议
- 🏠 **生活技巧** - 分享实用的生活技巧
- 🚗 **出行规划** - 提供出行和交通建议

这样设计让AI角色不仅仅是聊天机器人，而是真正能够陪伴用户成长、学习和生活的智能伙伴。

---

## 🎯 项目总结

通过深入分析用户需求和技术可行性，Seven AI项目构建了一个完整的AI角色扮演与养成系统。项目不仅解决了用户的社交、学习、娱乐等核心需求，还通过创新的粒子小球情绪反馈和AI伙伴养成系统，为用户提供了独特的交互体验。

技术选型上，选择七牛云Qwen作为核心LLM，在中文支持、成本效益、技术集成等方面都达到了最优平衡。AI角色的技能设计覆盖了角色扮演、智能交互、创意表达、情感支持等多个维度，为用户提供了全方位的服务体验。

时间原因，项目目前已完成60%的核心功能以及测试，未来将继续扩展高级功能，打造一个完整的AI角色生态平台。

## 部署说明

1. 确保所有环境变量都已正确配置
2. 数据库已创建并运行迁移
3. 构建前端：`npm run build`
4. 运行后端服务
